{
  "kind": "QueryTypeDefinitionList",
  "apiVersion": "query.grafana.app/v0alpha1",
  "metadata": {
    "resourceVersion": "1708548629808"
  },
  "items": [
    {
      "metadata": {
        "name": "math",
        "resourceVersion": "1708817676338",
        "creationTimestamp": "2024-02-21T20:50:29Z"
      },
      "spec": {
        "discriminators": [
          {
            "field": "queryType",
            "value": "math"
          }
        ],
        "querySchema": {
          "$schema": "https://json-schema.org/draft-04/schema",
          "properties": {
            "expression": {
              "type": "string",
              "minLength": 1,
              "description": "General math expression",
              "examples": [
                "$A + 1",
                "$A/$B"
              ]
            }
          },
          "additionalProperties": false,
          "type": "object",
          "required": [
            "expression"
          ]
        },
        "examples": [
          {
            "name": "constant addition",
            "saveModel": {
              "expression": "$A + 10"
            }
          },
          {
            "name": "math with two queries",
            "saveModel": {
              "expression": "$A - $B"
            }
          }
        ]
      }
    },
    {
      "metadata": {
        "name": "reduce",
        "resourceVersion": "1708817676338",
        "creationTimestamp": "2024-02-21T20:50:29Z"
      },
      "spec": {
        "discriminators": [
          {
            "field": "queryType",
            "value": "reduce"
          }
        ],
        "querySchema": {
          "$schema": "https://json-schema.org/draft-04/schema",
          "properties": {
            "expression": {
              "type": "string",
              "description": "Reference to other query results"
            },
            "reducer": {
              "type": "string",
              "enum": [
                "sum",
                "mean",
                "min",
                "max",
                "count",
                "last"
              ],
              "description": "The reducer\n\n\nPossible enum values:\n - `\"sum\"` The sum\n - `\"mean\"` The mean\n - `\"min\"` \n - `\"max\"` \n - `\"count\"` \n - `\"last\"` ",
              "x-enum-dictionary": {
                "mean": "The mean",
                "sum": "The sum"
              }
            },
            "settings": {
              "properties": {
                "mode": {
                  "type": "string",
                  "enum": [
                    "dropNN",
                    "replaceNN"
                  ],
                  "description": "Non-number reduce behavior\n\n\nPossible enum values:\n - `\"dropNN\"` Drop non-numbers\n - `\"replaceNN\"` Replace non-numbers",
                  "x-enum-dictionary": {
                    "dropNN": "Drop non-numbers",
                    "replaceNN": "Replace non-numbers"
                  }
                },
                "replaceWithValue": {
                  "type": "number",
                  "description": "Only valid when mode is replace"
                }
              },
              "additionalProperties": false,
              "type": "object",
              "required": [
                "mode"
              ],
              "description": "Reducer Options"
            }
          },
          "additionalProperties": false,
          "type": "object",
          "required": [
            "expression",
            "reducer",
            "settings"
          ]
        },
        "examples": [
          {
            "name": "get max value",
            "saveModel": {
              "expression": "$A",
              "reducer": "max",
              "settings": {
                "mode": "dropNN"
              }
            }
          }
        ]
      }
    },
    {
      "metadata": {
        "name": "resample",
        "resourceVersion": "1708548629808",
        "creationTimestamp": "2024-02-21T20:50:29Z"
      },
      "spec": {
        "discriminators": [
          {
            "field": "queryType",
            "value": "resample"
          }
        ],
        "querySchema": {
          "$schema": "https://json-schema.org/draft-04/schema",
          "additionalProperties": false,
          "description": "QueryType = resample",
          "properties": {
            "downsampler": {
              "description": "The reducer",
              "type": "string"
            },
            "expression": {
              "description": "The math expression",
              "type": "string"
            },
            "loadedDimensions": {
              "additionalProperties": true,
              "type": "object",
              "x-grafana-type": "data.DataFrame"
            },
            "upsampler": {
              "description": "The reducer",
              "type": "string"
            },
            "window": {
              "description": "A time duration string",
              "type": "string"
            }
          },
          "required": [
            "expression",
            "window",
            "downsampler",
            "upsampler",
            "loadedDimensions"
          ],
          "type": "object"
        }
      }
    }
  ]
}